{"version":3,"file":"index.js","sources":["../src/delimiterize.js","../src/camelize.js","../src/replace-tokens.js","../src/class-names.js","../src/evaluate-conditional-string.js","../src/get-block-context.js","../src/get-block-index.js","../src/get-inner-blocks.js","../src/is-external-url.js","../src/is-fragment-url.js","../src/styles.js","../src/render-jsx-array.js","../src/use-click-outside.js"],"sourcesContent":["function delimiterize( string = '' ) {\n    return string\n        .replace(/([a-z])([A-Z])/g, (match, p1, p2) => {\n            return `${p1}-${p2}`\n        })\n        .replace(/[^\\w\\s-]/g, '')\n        .replace(/(\\s)/g, '-')\n        .toLowerCase()\n}\n\nexport default delimiterize","import delimiterize from './delimiterize'\n\nfunction camelize( string = '' ) {\n\treturn delimiterize(string)\n\t\t.replace(/\\-(.)/g, (match, p1) => p1.toUpperCase())\n}\n\nexport default camelize","import memoize from 'micro-memoize'\n\nconst valueByIdentifier = memoize( ( identifier = '', context = {} ) => {\n    let value = { ...context }\n\tlet parts = identifier.split( '.' )\n\n\tif ( parts.length === 0 ) {\n\t\treturn ''\n\t}\n\n\tlet key = parts.shift()\n\n\tif ( !context?.[key] ) {\n\t\treturn ''\n\t}\n\n\tif ( parts.length === 0 && key === 'length' ) {\n\t\treturn Object.values( value ).length\n\t}\n\n\tif ( parts.length === 0 ) {\n\t\treturn value[ key ]\n\t}\n\n\treturn valueByIdentifier( parts.join( '.' ), value[ key ] )\n} )\n\nfunction replaceTokens( string = '', context = {} ) {\n\tif ( typeof string !== 'string' ) {\n\t\treturn string\n\t}\n\t\n\treturn string.replaceAll( /\\{\\{(.*?)\\}\\}/g, ( match, p1 ) => {\n\t\treturn valueByIdentifier( p1.trim(), context )\n\t} )\n}\n\nexport default replaceTokens","import npmClassNames from 'classnames'\nimport replaceTokens from './replace-tokens'\n\n/**\n * Wraps the default classNames function to provide \n * contextual token replacement\n */\nfunction classNames( _classNames = [], context = {} ) {\n\t\n\tlet classNameArray = Array.isArray( _classNames ) && _classNames || [ _classNames ]\n\n\tclassNameArray = classNameArray.map( ( className ) => {\n\n\t\tif ( typeof className === 'array' ) {\n\t\t\treturn classNames( className, context )\n\t\t} else if ( typeof className === 'object' ) {\n\t\t\treturn Object.fromEntries( \n\t\t\t\tObject.entries( className ).map( ( [ key, value ] ) => [\n\t\t\t\t\treplaceTokens( key, context ), \n\t\t\t\t\t( typeof value === 'boolean' ? value : classNames( value, context ) )\n\t\t\t\t] ) \n\t\t\t)\n\t\t}\n\n\t\treturn className\n\n\t} )\n\n\treturn replaceTokens( npmClassNames( ...classNameArray ), context )\n\n}\n\nexport default classNames\n\n","import replaceTokens from './replace-tokens.js'\n\nconst OPERANDS = [\n\t'==',\n\t'!=',\n\t'<',\n\t'<=',\n\t'>',\n\t'>=',\n]\n\nfunction evaluateCondition( string = '', context = {} ) {\n\n\tlet operand = null\n\n\tOPERANDS.forEach( ( OPERAND ) => {\n\t\tif ( string.indexOf( OPERAND ) !== -1 ) {\n\t\t\toperand = OPERAND\n\t\t}\n\t} )\n\n\tif ( operand === null ) {\n\t\treturn Boolean( replaceTokens( string, context ) )\n\t}\n\n\tlet before = replaceTokens( string.slice( 0, string.indexOf( operand ) ).trim(), context )\n\tlet after = replaceTokens( string.slice( string.indexOf( operand ) + operand.length ).trim(), context )\n\n\tif ( ( before.slice( 0, 1 ) === \"'\" && before.slice( -1 ) === \"'\" ) || ( before.slice( 0, 1 ) === '\"' && before.slice( -1 ) === '\"' ) ) {\n\t\tbefore = before.slice( 1, -1 )\n\t}\n\n\tif ( ( after.slice( 0, 1 ) === \"'\" && after.slice( -1 ) === \"'\" ) || ( after.slice( 0, 1 ) === '\"' && after.slice( -1 ) === '\"' ) ) {\n\t\tafter = after.slice( 1, -1 )\n\t}\n\n\tif ( operand === '==' ) {\n\t\treturn ( before == after )\n\t}\n\n\tif ( operand === '!=' ) {\n\t\treturn ( before != after )\n\t}\n\n\tif ( operand === '<' ) {\n\t\treturn ( before < after )\n\t}\n\n\tif ( operand === '<=' ) {\n\t\treturn ( before <= after )\n\t}\n\n\tif ( operand === '>' ) {\n\t\treturn ( before > after )\n\t}\n\n\tif ( operand === '>=' ) {\n\t\treturn ( before >= after )\n\t}\n\n\treturn false\n}\n\nfunction evaluateConditionalString( string = '', context = {} ) {\n\tif ( typeof string !== 'string' || string === '' ) {\n\t\treturn string\n\t}\n\n\tlet open = null\n\tlet close = null\n\tlet evaluatedString = string\n\n\tdo {\n\n\t\tfor ( let i = 0; i < string.length; i++ ) {\n\t\t\tif ( string[ i ] === '(' ) {\n\t\t\t\topen = i\n\t\t\t}\n\n\t\t\tif ( open !== null && string[ i ] === ')' ) {\n\t\t\t\tclose = i\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tlet conditional, before, after\n\n\t\tif ( open === null && close === null ) {\n\t\t\tconditional = string\n\t\t\tbefore = ''\n\t\t\tafter = ''\n\t\t} else {\n\t\t\tconditional = string.slice( open + 1, close - 1 )\n\t\t\tbefore = string.slice( 0, open - 1 )\n\t\t\tafter = string.slice( close + 1 )\n\t\t}\n\n\t\tconst ands = conditional.split( '&&' )\n\n\t\tconst result = ands.reduce( ( result, and ) => {\n\t\t\tconst ors = and.trim().split( '||' )\n\n\t\t\treturn ( result && ors.reduce( ( reducedOr, or ) => (\n\t\t\t\treducedOr || evaluateCondition( or.trim(), context )\n\t\t\t), null ) )\n\t\t}, true )\n\n\t\tif ( before === '' && after === '' ) {\n\t\t\tevaluatedString = result && '1' || '0'\n\t\t} else {\n\t\t\tevaluatedString = before + ( result && 'true' || 'false' ) + after\n\t\t}\n\n\t} while ( open !== null && close !== null )\n\n\tif ( evaluatedString === '1' || evaluatedString === 'true' ) {\n\t\treturn true\n\t}\n\n\tif ( evaluatedString === '0' || evaluatedString === 'false' ) {\n\t\treturn false\n\t}\n\n\treturn Boolean( evaluatedString )\n}\n\nexport default evaluateConditionalString\n","/**\n * Returns the block context with private attributes formatted.\n * \n * Note: The length of the inner blocks is saved as an attribute because \n * they can not be directly referenced upon initial save.\n */\nfunction getBlockContext( context = {} ) {\n\n\tlet {\n\t\tclientId,\n\t\tattributes,\n\t\tinnerBlocks,\n\t\t...blockContext\n\t} = context\n\n\tconst index = 1 + (attributes?._index || 0)\n\tconst length = (attributes?._innerBlocksLength || 0)\n\n\treturn {\n\t\t...blockContext,\n\t\tblock: {\n\t\t\tindex: index,\n\t\t\t...attributes,\n\t\t},\n\t\tinnerBlocks: innerBlocks?.length && innerBlocks || (new Array(length)).fill(null),\n\t}\n\n}\n\nexport default getBlockContext","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n *\n * @param {*} clientId\n * @returns\n */\nfunction getBlockIndex( clientId ) {\n\tconst { getBlockIndex } = useSelect( ( select ) => ( {\n\t\tgetBlockIndex: select( 'core/block-editor' )?.getBlockIndex\n\t} ) )\n\treturn getBlockIndex( clientId ) || 0\n}\n\nexport default getBlockIndex\n","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n *\n * @param {*} clientId\n * @returns\n */\nfunction getInnerBlocks( clientId ) {\n\tconst { getBlocks } = useSelect( ( select ) => ( {\n\t\tgetBlocks: select( 'core/block-editor' )?.getBlocks\n\t} ) )\n\treturn getBlocks( clientId ) || []\n}\n\nexport default getInnerBlocks\n","function isExternalUrl( url ) {\n\tif ( url.indexOf('#') === 0 || ( url.indexOf('http://') !== 0 && url.indexOf('https://') !== 0 ) ) {\n\t\treturn false\n\t}\n\n\treturn ( new URL( url ).origin !== location.origin )\n}\n\nexport default isExternalUrl\n","function isFragmentUrl( url ) {\n\tif ( url.indexOf('#') === 0 ) {\n\t\treturn true\n\t}\n\n\treturn false\n}\n\nexport default isFragmentUrl\n","import replaceTokens from './replace-tokens'\n\nfunction styles( _styles = [], context = {} ) {\n\n\tif (typeof _styles !== 'object') {\n\t\treturn {}\n\t}\n\n\tconst stylesArray = Object.entries(_styles).map(([ property, value ]) => [\n\t\treplaceTokens(property, context),\n\t\treplaceTokens(value, context)\n\t])\n\t\n\treturn Object.fromEntries(stylesArray)\n\t\n}\n\nexport default styles","import classNames from './class-names.js'\nimport evaluateConditionalString from './evaluate-conditional-string.js'\nimport replaceTokens from './replace-tokens.js'\nimport styles from './styles.js'\n\n/**\n * Renders an array of JSX objects\n *\n * @param {array} jsx\n */\nfunction renderJsxArray( {\n\tclientId,\n\tblockName,\n\tattributes,\n\tsetAttributes = null,\n\tjsx = [],\n\tcontext = {}\n}, Components = {} ) {\n\n\tif ( Array.isArray( jsx ) === false || jsx.length === 0 ) {\n\t\treturn null\n\t}\n\n\tconst jsxComponents = jsx.map( ( {\n\t\tchildren = [],\n\t\tclassName = [],\n\t\teditorClassName = [],\n\t\tviewClassName = [],\n\t\tstyle = {},\n\t\tattributeName = '',\n\t\ttype = '',\n\t\ttagName = 'div',\n\t\tpersist = true,\n\t\t...props\n\t} ) => {\n\n\t\tlet attributeValue = attributes?.[ attributeName ]\n\n\t\tif ( attributeValue === undefined ) {\n\t\t\tattributeValue = props?.value\n\t\t}\n\n\t\tconst jsxAttributes = Object.fromEntries( Object.entries( props ).map( ( [ name, value ] ) => {\n\t\t\tif ( typeof value === 'string' ) {\n\t\t\t\treturn [\n\t\t\t\t\tname,\n\t\t\t\t\treplaceTokens( value, { ...context, attribute: { value: attributeValue } } ),\n\t\t\t\t]\n\t\t\t} else {\n\t\t\t\treturn [\n\t\t\t\t\tname,\n\t\t\t\t\tvalue,\n\t\t\t\t]\n\t\t\t}\n\t\t} ) )\n\n\t\tif ( 'display' in jsxAttributes ) {\n\t\t\tjsxAttributes.display = evaluateConditionalString( props.display, context )\n\t\t}\n\n\t\tconst jsxClassNames = classNames( [\n\t\t\t...( Array.isArray( className ) && className || [ className ] ),\n\t\t\t...( context?.context === 'edit' && (\n\t\t\t\tArray.isArray( editorClassName ) && editorClassName || [ editorClassName ]\n\t\t\t) || [] ),\n\t\t\t...( context?.context === 'save' && (\n\t\t\t\tArray.isArray( viewClassName ) && viewClassName || [ viewClassName ]\n\t\t\t) || [] ),\n\t\t], { ...context, attribute: { value: attributeValue } } )\n\n\t\tif ( jsxClassNames ) {\n\t\t\tjsxAttributes.className = jsxClassNames\n\t\t}\n\n\t\tconst jsxStyles = styles( style, { ...context, attribute: { value: attributeValue } } )\n\n\t\tif ( Object.values( jsxStyles ).length > 0 ) {\n\t\t\tjsxAttributes.style = jsxStyles\n\t\t}\n\n\t\tlet Component = tagName\n\n\t\tif ( type in Components && Components[ type ] ) {\n\t\t\tComponent = Components[ type ]\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{ ...jsxAttributes }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tblockName={ blockName }\n\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t{ ...( attributeValue !== undefined && {\n\t\t\t\t\t\tvalue: attributeValue,\n\t\t\t\t\t} ) }\n\t\t\t\t\t{ ...( setAttributes !== null && {\n\t\t\t\t\t\tattributeName,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\tonInput: ( value ) => {\n\t\t\t\t\t\t\tif ( !attributeName ) {\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t[attributeName]: value,\n\t\t\t\t\t\t\t}, persist )\n\t\t\t\t\t\t},\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\t\tclientId,\n\t\t\t\t\t\tblockName,\n\t\t\t\t\t\tattributes,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\tjsx: children,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t}, Components ) }\n\t\t\t\t</Component>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{ ...jsxAttributes }\n\t\t\t\tblockName={ blockName }\n\t\t\t>\n\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\tclientId,\n\t\t\t\t\tblockName,\n\t\t\t\t\tattributes,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tjsx: children,\n\t\t\t\t\tcontext,\n\t\t\t\t}, Components ) }\n\t\t\t</Component>\n\t\t)\n\n\t} )\n\n\tif ( jsxComponents.length === 1 ) {\n\t\treturn jsxComponents[ 0 ]\n\t}\n\n\treturn jsxComponents\n\n}\n\nexport default renderJsxArray\n","import { useEffect } from '@wordpress/element'\n\nfunction useClickOutside( ref, callback ) {\n\tuseEffect( () => {\n\t\tconst handleClickOutside = ( event ) => {\n\t\t\tif ( ref.current && !ref.current.contains( event.target ) ) {\n\t\t\t\tcallback && callback( event )\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener( 'mousedown', handleClickOutside )\n\t  \n\t\treturn () => {\n\t\t\tdocument.removeEventListener( 'mousedown', handleClickOutside )\n\t\t}\n\t}, [ ref ] )\n}\n\nexport default useClickOutside"],"names":["delimiterize","string","arguments","length","undefined","replace","match","p1","p2","concat","toLowerCase","camelize","toUpperCase","valueByIdentifier","memoize","identifier","context","value","_objectSpread","parts","split","key","shift","Object","values","join","replaceTokens","replaceAll","trim","classNames","_classNames","classNameArray","Array","isArray","map","className","_typeof","fromEntries","entries","_ref","_ref2","_slicedToArray","npmClassNames","apply","_toConsumableArray","OPERANDS","evaluateCondition","operand","forEach","OPERAND","indexOf","Boolean","before","slice","after","evaluateConditionalString","open","close","evaluatedString","i","conditional","ands","result","reduce","and","ors","reducedOr","or","getBlockContext","clientId","attributes","innerBlocks","blockContext","_objectWithoutProperties","_excluded","index","_index","_innerBlocksLength","block","fill","getBlockIndex","_useSelect","useSelect","select","_select","getInnerBlocks","getBlocks","isExternalUrl","url","URL","origin","location","isFragmentUrl","styles","_styles","stylesArray","property","renderJsxArray","blockName","_ref$setAttributes","setAttributes","_ref$jsx","jsx","_ref$context","Components","jsxComponents","_ref2$children","children","_ref2$className","_ref2$editorClassName","editorClassName","_ref2$viewClassName","viewClassName","_ref2$style","style","_ref2$attributeName","attributeName","_ref2$type","type","_ref2$tagName","tagName","_ref2$persist","persist","props","attributeValue","jsxAttributes","_ref3","_ref4","name","attribute","display","jsxClassNames","jsxStyles","Component","React","createElement","_extends","onInput","_defineProperty","useClickOutside","ref","callback","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener"],"mappings":"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"}