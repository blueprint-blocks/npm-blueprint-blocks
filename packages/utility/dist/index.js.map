{"version":3,"file":"index.js","sources":["../src/delimiterize.js","../src/camelize.js","../src/replace-tokens.js","../src/class-names.js","../src/get-block-context.js","../src/get-block-index.js","../src/get-inner-blocks.js","../src/styles.js","../src/render-jsx-array.js","../src/use-click-outside.js"],"sourcesContent":["function delimiterize( string = '' ) {\n    return string\n        .replace(/([a-z])([A-Z])/g, (match, p1, p2) => {\n            return `${p1}-${p2}`\n        })\n        .replace(/[^\\w\\s-]/g, '')\n        .replace(/(\\s)/g, '-')\n        .toLowerCase()\n}\n\nexport default delimiterize","import delimiterize from './delimiterize'\n\nfunction camelize( string = '' ) {\n\treturn delimiterize(string)\n\t\t.replace(/\\-(.)/g, (match, p1) => p1.toUpperCase())\n}\n\nexport default camelize","import memoize from 'micro-memoize'\n\nconst valueByIdentifier = memoize( ( identifier = '', context = {} ) => {\n    let value = { ...context }\n\tlet parts = identifier.split( '.' )\n\n\tif ( parts.length === 0 ) {\n\t\treturn ''\n\t}\n\n\tlet key = parts.shift()\n\n\tif ( !context?.[key] ) {\n\t\treturn ''\n\t}\n\n\tif ( parts.length === 0 && key === 'length' ) {\n\t\treturn Object.values( value ).length\n\t}\n\n\tif ( parts.length === 0 ) {\n\t\treturn value[ key ]\n\t}\n\n\treturn valueByIdentifier( parts.join( '.' ), value[ key ] )\n} )\n\nfunction replaceTokens( string = '', context = {} ) {\n\tif ( typeof string !== 'string' ) {\n\t\treturn string\n\t}\n\t\n\treturn string.replaceAll( /\\{\\{(.*?)\\}\\}/g, ( match, p1 ) => {\n\t\treturn valueByIdentifier( p1.trim(), context )\n\t} )\n}\n\nexport default replaceTokens","import npmClassNames from 'classnames'\nimport replaceTokens from './replace-tokens'\n\n/**\n * Wraps the default classNames function to provide \n * contextual token replacement\n */\nfunction classNames( _classNames = [], context = {} ) {\n\t\n\tlet classNameArray = Array.isArray( _classNames ) && _classNames || [ _classNames ]\n\n\tclassNameArray = classNameArray.map( ( className ) => {\n\n\t\tif ( typeof className === 'array' ) {\n\t\t\treturn classNames( className, context )\n\t\t} else if ( typeof className === 'object' ) {\n\t\t\treturn Object.fromEntries( \n\t\t\t\tObject.entries( className ).map( ( [ key, value ] ) => [\n\t\t\t\t\treplaceTokens( key, context ), \n\t\t\t\t\t( typeof value === 'boolean' ? value : classNames( value, context ) )\n\t\t\t\t] ) \n\t\t\t)\n\t\t}\n\n\t\treturn className\n\n\t} )\n\n\treturn replaceTokens( npmClassNames( ...classNameArray ), context )\n\n}\n\nexport default classNames\n\n","/**\n * Returns the block context with private attributes formatted.\n * \n * Note: The length of the inner blocks is saved as an attribute because \n * they can not be directly referenced upon initial save.\n */\nfunction getBlockContext( context = {} ) {\n\n\tlet {\n\t\tclientId,\n\t\tattributes,\n\t\tinnerBlocks,\n\t\t...blockContext\n\t} = context\n\n\tconst index = 1 + (attributes?._index || 0)\n\tconst length = (attributes?._innerBlocksLength || 0)\n\n\treturn {\n\t\t...blockContext,\n\t\tblock: {\n\t\t\tindex: index,\n\t\t\t...attributes,\n\t\t},\n\t\tinnerBlocks: innerBlocks?.length && innerBlocks || (new Array(length)).fill(null),\n\t}\n\n}\n\nexport default getBlockContext","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n * \n * @param {*} clientId \n * @returns \n */\nfunction getBlockIndex( clientId ) {\n\tconst { getBlockIndex } = useSelect( ( select ) => ( {\n\t\tgetBlockIndex: select( 'core/editor' ).getBlockIndex\n\t} ) )\n\treturn getBlockIndex( clientId ) || 0\n}\n\nexport default getBlockIndex","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n * \n * @param {*} clientId \n * @returns \n */\nfunction getInnerBlocks( clientId ) {\n\tconst { getBlocks } = useSelect( ( select ) => ( {\n\t\tgetBlocks: select( 'core/block-editor' ).getBlocks\n\t} ) )\n\treturn getBlocks( clientId ) || []\n}\n\nexport default getInnerBlocks","import replaceTokens from './replace-tokens'\n\nfunction styles( _styles = [], context = {} ) {\n\n\tif (typeof _styles !== 'object') {\n\t\treturn {}\n\t}\n\n\tconst stylesArray = Object.entries(_styles).map(([ property, value ]) => [\n\t\treplaceTokens(property, context),\n\t\treplaceTokens(value, context)\n\t])\n\t\n\treturn Object.fromEntries(stylesArray)\n\t\n}\n\nexport default styles","import classNames from './class-names.js'\nimport replaceTokens from './replace-tokens.js'\nimport styles from './styles.js'\n\n/**\n * Renders an array of JSX objects\n * \n * @param {array} jsx \n */\nfunction renderJsxArray( { blockName, attributes, setAttributes = null, jsx = [], context = {} }, Components = {} ) {\n\n\treturn jsx.map( ( { children = [], className = [], style = {}, name = '', attributeName = '', type = '', tagName = 'div', ...props } ) => {\n\n\t\tconst attributeValue = attributes?.[ attributeName ]\n\n\t\tconst jsxAttributes = Object.fromEntries( Object.entries( props ).map( ( [ name, value ] ) => {\n\t\t\tif ( typeof value === 'string' ) {\n\t\t\t\treturn [\n\t\t\t\t\tname,\n\t\t\t\t\treplaceTokens( value, { ...context, attribute: { value: attributeValue } } ),\n\t\t\t\t]\n\t\t\t} else {\n\t\t\t\treturn [\n\t\t\t\t\tname,\n\t\t\t\t\tvalue,\n\t\t\t\t]\n\t\t\t}\n\t\t} ) )\n\n\t\tconst jsxClassNames = classNames( className, { ...context, attribute: { value: attributeValue } } )\n\n\t\tif ( jsxClassNames ) {\n\t\t\tjsxAttributes.className = jsxClassNames\n\t\t}\n\n\t\tconst jsxStyles = styles( style, { ...context, attribute: { value: attributeValue } } )\n\n\t\tif ( Object.values( jsxStyles ).length > 0 ) {\n\t\t\tjsxAttributes.style = jsxStyles\n\t\t}\n\n\t\tlet Component = tagName\n\n\t\tif ( type in Components && Components[ type ] ) {\n\t\t\tComponent = Components[ type ]\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{ ...jsxAttributes }\n\t\t\t\t\tblockName={ blockName }\n\t\t\t\t\tname={ name }\n\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t{ ...( setAttributes !== null && {\n\t\t\t\t\t\tattributeName,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\tonInput: ( value ) => {\n\t\t\t\t\t\t\tif ( !attributeName ) {\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetAttributes( { \n\t\t\t\t\t\t\t\t[attributeName]: value,\n\t\t\t\t\t\t\t} )\n\t\t\t\t\t\t},\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\t\tblockName,\n\t\t\t\t\t\tattributes,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\tjsx: children,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t}, Components ) }\n\t\t\t\t</Component>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{ ...jsxAttributes }\n\t\t\t\tblockName={ blockName }\n\t\t\t>\n\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\tblockName,\n\t\t\t\t\tattributes,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tjsx: children,\n\t\t\t\t\tcontext,\n\t\t\t\t}, Components ) }\n\t\t\t</Component>\n\t\t)\n\n\t} )\n\n}\n\nexport default renderJsxArray","import { useEffect } from '@wordpress/element'\n\nfunction useClickOutside( ref, callback ) {\n\tuseEffect( () => {\n\t\tconst handleClickOutside = ( event ) => {\n\t\t\tif ( ref.current && !ref.current.contains( event.target ) ) {\n\t\t\t\tcallback && callback( event )\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener( 'mousedown', handleClickOutside )\n\t  \n\t\treturn () => {\n\t\t\tdocument.removeEventListener( 'mousedown', handleClickOutside )\n\t\t}\n\t}, [ ref ] )\n}\n\nexport default useClickOutside"],"names":["delimiterize","string","arguments","length","undefined","replace","match","p1","p2","concat","toLowerCase","camelize","toUpperCase","valueByIdentifier","memoize","identifier","context","value","_objectSpread","parts","split","key","shift","Object","values","join","replaceTokens","replaceAll","trim","classNames","_classNames","classNameArray","Array","isArray","map","className","_typeof","fromEntries","entries","_ref","_ref2","_slicedToArray","npmClassNames","apply","_toConsumableArray","getBlockContext","clientId","attributes","innerBlocks","blockContext","_objectWithoutProperties","_excluded","index","_index","_innerBlocksLength","block","fill","getBlockIndex","_useSelect","useSelect","select","getInnerBlocks","getBlocks","styles","_styles","stylesArray","property","renderJsxArray","blockName","_ref$setAttributes","setAttributes","_ref$jsx","jsx","_ref$context","Components","_ref2$children","children","_ref2$className","_ref2$style","style","_ref2$name","name","_ref2$attributeName","attributeName","_ref2$type","type","_ref2$tagName","tagName","props","attributeValue","jsxAttributes","_ref3","_ref4","attribute","jsxClassNames","jsxStyles","Component","React","createElement","_extends","onInput","_defineProperty","useClickOutside","ref","callback","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener"],"mappings":";;;;;AAAA,SAASA,YAAYA,GAAgB;AAAA,EAAA,IAAdC,MAAM,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAC9B,EAAA,OAAOD,MAAM,CACRI,OAAO,CAAC,iBAAiB,EAAE,UAACC,KAAK,EAAEC,EAAE,EAAEC,EAAE,EAAK;AAC3C,IAAA,OAAA,EAAA,CAAAC,MAAA,CAAUF,EAAE,EAAAE,GAAAA,CAAAA,CAAAA,MAAA,CAAID,EAAE,CAAA,CAAA;AACtB,GAAC,CAAC,CACDH,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC,CACxBA,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CACrBK,WAAW,EAAE,CAAA;AACtB;;ACNA,SAASC,QAAQA,GAAgB;AAAA,EAAA,IAAdV,MAAM,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAC7B,EAAA,OAAOF,YAAY,CAACC,MAAM,CAAC,CACzBI,OAAO,CAAC,QAAQ,EAAE,UAACC,KAAK,EAAEC,EAAE,EAAA;IAAA,OAAKA,EAAE,CAACK,WAAW,EAAE,CAAA;GAAC,CAAA,CAAA;AACrD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA,IAAMC,iBAAiB,GAAGC,OAAO,CAAE,YAAqC;AAAA,EAAA,IAAnCC,UAAU,GAAAb,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEc,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAC9D,EAAA,IAAIe,KAAK,GAAAC,cAAA,CAAA,EAAA,EAAQF,OAAO,CAAE,CAAA;AAC7B,EAAA,IAAIG,KAAK,GAAGJ,UAAU,CAACK,KAAK,CAAE,GAAG,CAAE,CAAA;AAEnC,EAAA,IAAKD,KAAK,CAAChB,MAAM,KAAK,CAAC,EAAG;AACzB,IAAA,OAAO,EAAE,CAAA;AACV,GAAA;AAEA,EAAA,IAAIkB,GAAG,GAAGF,KAAK,CAACG,KAAK,EAAE,CAAA;EAEvB,IAAK,EAACN,OAAO,KAAPA,IAAAA,IAAAA,OAAO,eAAPA,OAAO,CAAGK,GAAG,CAAC,CAAG,EAAA;AACtB,IAAA,OAAO,EAAE,CAAA;AACV,GAAA;EAEA,IAAKF,KAAK,CAAChB,MAAM,KAAK,CAAC,IAAIkB,GAAG,KAAK,QAAQ,EAAG;AAC7C,IAAA,OAAOE,MAAM,CAACC,MAAM,CAAEP,KAAK,CAAE,CAACd,MAAM,CAAA;AACrC,GAAA;AAEA,EAAA,IAAKgB,KAAK,CAAChB,MAAM,KAAK,CAAC,EAAG;IACzB,OAAOc,KAAK,CAAEI,GAAG,CAAE,CAAA;AACpB,GAAA;AAEA,EAAA,OAAOR,iBAAiB,CAAEM,KAAK,CAACM,IAAI,CAAE,GAAG,CAAE,EAAER,KAAK,CAAEI,GAAG,CAAE,CAAE,CAAA;AAC5D,CAAC,CAAE,CAAA;AAEH,SAASK,aAAaA,GAA8B;AAAA,EAAA,IAA5BzB,MAAM,GAAAC,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEc,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAChD,EAAA,IAAK,OAAOD,MAAM,KAAK,QAAQ,EAAG;AACjC,IAAA,OAAOA,MAAM,CAAA;AACd,GAAA;EAEA,OAAOA,MAAM,CAAC0B,UAAU,CAAE,gBAAgB,EAAE,UAAErB,KAAK,EAAEC,EAAE,EAAM;IAC5D,OAAOM,iBAAiB,CAAEN,EAAE,CAACqB,IAAI,EAAE,EAAEZ,OAAO,CAAE,CAAA;AAC/C,GAAC,CAAE,CAAA;AACJ;;AChCA;AACA;AACA;AACA;AACA,SAASa,UAAUA,GAAmC;AAAA,EAAA,IAAjCC,WAAW,GAAA5B,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEc,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAElD,EAAA,IAAI6B,cAAc,GAAGC,KAAK,CAACC,OAAO,CAAEH,WAAW,CAAE,IAAIA,WAAW,IAAI,CAAEA,WAAW,CAAE,CAAA;AAEnFC,EAAAA,cAAc,GAAGA,cAAc,CAACG,GAAG,CAAE,UAAEC,SAAS,EAAM;AAErD,IAAA,IAAK,OAAOA,SAAS,KAAK,OAAO,EAAG;AACnC,MAAA,OAAON,UAAU,CAAEM,SAAS,EAAEnB,OAAO,CAAE,CAAA;AACxC,KAAC,MAAM,IAAKoB,OAAA,CAAOD,SAAS,CAAA,KAAK,QAAQ,EAAG;AAC3C,MAAA,OAAOZ,MAAM,CAACc,WAAW,CACxBd,MAAM,CAACe,OAAO,CAAEH,SAAS,CAAE,CAACD,GAAG,CAAE,UAAAK,IAAA,EAAA;AAAA,QAAA,IAAAC,KAAA,GAAAC,cAAA,CAAAF,IAAA,EAAA,CAAA,CAAA;AAAIlB,UAAAA,GAAG,GAAAmB,KAAA,CAAA,CAAA,CAAA;AAAEvB,UAAAA,KAAK,GAAAuB,KAAA,CAAA,CAAA,CAAA,CAAA;QAAA,OAAQ,CACtDd,aAAa,CAAEL,GAAG,EAAEL,OAAO,CAAE,EAC3B,OAAOC,KAAK,KAAK,SAAS,GAAGA,KAAK,GAAGY,UAAU,CAAEZ,KAAK,EAAED,OAAO,CAAE,CACnE,CAAA;AAAA,OAAA,CAAE,CACH,CAAA;AACF,KAAA;AAEA,IAAA,OAAOmB,SAAS,CAAA;AAEjB,GAAC,CAAE,CAAA;AAEH,EAAA,OAAOT,aAAa,CAAEgB,aAAa,CAAAC,KAAA,CAAA,KAAA,CAAA,EAAAC,kBAAA,CAAKb,cAAc,CAAA,CAAE,EAAEf,OAAO,CAAE,CAAA;AAEpE;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS6B,eAAeA,GAAiB;AAAA,EAAA,IAAf7B,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAErC,EAKIc,OAAO,CAJV8B,QAAQ,CAAA;QACRC,UAAU,GAGP/B,OAAO,CAHV+B,UAAU,CAAA;IACVC,WAAW,GAERhC,OAAO,CAFVgC,WAAW,CAAA;AACRC,IAAAA,YAAY,GAAAC,wBAAA,CACZlC,OAAO,EAAAmC,WAAA,EAAA;AAEX,EAAA,IAAMC,KAAK,GAAG,CAAC,IAAI,CAAAL,UAAU,KAAA,IAAA,IAAVA,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAVA,UAAU,CAAEM,MAAM,KAAI,CAAC,CAAC,CAAA;EAC3C,IAAMlD,MAAM,GAAI,CAAA4C,UAAU,KAAA,IAAA,IAAVA,UAAU,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAVA,UAAU,CAAEO,kBAAkB,KAAI,CAAE,CAAA;AAEpD,EAAA,OAAApC,cAAA,CAAAA,cAAA,CAAA,EAAA,EACI+B,YAAY,CAAA,EAAA,EAAA,EAAA;AACfM,IAAAA,KAAK,EAAArC,cAAA,CAAA;AACJkC,MAAAA,KAAK,EAAEA,KAAAA;AAAK,KAAA,EACTL,UAAU,CACb;IACDC,WAAW,EAAE,CAAAA,WAAW,KAAA,IAAA,IAAXA,WAAW,KAAXA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,WAAW,CAAE7C,MAAM,KAAI6C,WAAW,IAAK,IAAIhB,KAAK,CAAC7B,MAAM,CAAC,CAAEqD,IAAI,CAAC,IAAI,CAAA;AAAC,GAAA,CAAA,CAAA;AAGnF;;AC3BA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA,SAASC,aAAaA,CAAEX,QAAQ,EAAG;AAClC,EAAA,IAAAY,UAAA,GAA0BC,SAAS,CAAE,UAAEC,MAAM,EAAA;MAAA,OAAQ;AACpDH,QAAAA,aAAa,EAAEG,MAAM,CAAE,aAAa,CAAE,CAACH,aAAAA;OACvC,CAAA;AAAA,KAAE,CAAE;IAFGA,aAAa,GAAAC,UAAA,CAAbD,aAAa,CAAA;AAGrB,EAAA,OAAOA,aAAa,CAAEX,QAAQ,CAAE,IAAI,CAAC,CAAA;AACtC;;ACjBA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;AACA;AACA;AACA,SAASe,cAAcA,CAAEf,QAAQ,EAAG;AACnC,EAAA,IAAAY,UAAA,GAAsBC,SAAS,CAAE,UAAEC,MAAM,EAAA;MAAA,OAAQ;AAChDE,QAAAA,SAAS,EAAEF,MAAM,CAAE,mBAAmB,CAAE,CAACE,SAAAA;OACzC,CAAA;AAAA,KAAE,CAAE;IAFGA,SAAS,GAAAJ,UAAA,CAATI,SAAS,CAAA;AAGjB,EAAA,OAAOA,SAAS,CAAEhB,QAAQ,CAAE,IAAI,EAAE,CAAA;AACnC;;ACfA,SAASiB,MAAMA,GAA+B;AAAA,EAAA,IAA7BC,OAAO,GAAA9D,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAAA,EAAA,IAAEc,OAAO,GAAAd,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAE1C,EAAA,IAAIkC,OAAA,CAAO4B,OAAO,CAAA,KAAK,QAAQ,EAAE;AAChC,IAAA,OAAO,EAAE,CAAA;AACV,GAAA;AAEA,EAAA,IAAMC,WAAW,GAAG1C,MAAM,CAACe,OAAO,CAAC0B,OAAO,CAAC,CAAC9B,GAAG,CAAC,UAAAK,IAAA,EAAA;AAAA,IAAA,IAAAC,KAAA,GAAAC,cAAA,CAAAF,IAAA,EAAA,CAAA,CAAA;AAAG2B,MAAAA,QAAQ,GAAA1B,KAAA,CAAA,CAAA,CAAA;AAAEvB,MAAAA,KAAK,GAAAuB,KAAA,CAAA,CAAA,CAAA,CAAA;AAAA,IAAA,OAAO,CACxEd,aAAa,CAACwC,QAAQ,EAAElD,OAAO,CAAC,EAChCU,aAAa,CAACT,KAAK,EAAED,OAAO,CAAC,CAC7B,CAAA;GAAC,CAAA,CAAA;AAEF,EAAA,OAAOO,MAAM,CAACc,WAAW,CAAC4B,WAAW,CAAC,CAAA;AAEvC;;;;ACXA;AACA;AACA;AACA;AACA;AACA,SAASE,cAAcA,CAAA5B,IAAA,EAA6F;AAAA,EAAA,IAAzF6B,SAAS,GAAA7B,IAAA,CAAT6B,SAAS;IAAErB,UAAU,GAAAR,IAAA,CAAVQ,UAAU;IAAAsB,kBAAA,GAAA9B,IAAA,CAAE+B,aAAa;AAAbA,IAAAA,aAAa,GAAAD,kBAAA,KAAG,KAAA,CAAA,GAAA,IAAI,GAAAA,kBAAA;IAAAE,QAAA,GAAAhC,IAAA,CAAEiC,GAAG;AAAHA,IAAAA,GAAG,GAAAD,QAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,QAAA;IAAAE,YAAA,GAAAlC,IAAA,CAAEvB,OAAO;AAAPA,IAAAA,OAAO,GAAAyD,YAAA,KAAA,KAAA,CAAA,GAAG,EAAE,GAAAA,YAAA,CAAA;AAAA,EAAA,IAAIC,UAAU,GAAAxE,SAAA,CAAAC,MAAA,GAAA,CAAA,IAAAD,SAAA,CAAA,CAAA,CAAA,KAAAE,SAAA,GAAAF,SAAA,CAAA,CAAA,CAAA,GAAG,EAAE,CAAA;AAEhH,EAAA,OAAOsE,GAAG,CAACtC,GAAG,CAAE,UAAAM,KAAA,EAA0H;AAAA,IAAA,IAAAmC,cAAA,GAAAnC,KAAA,CAAtHoC,QAAQ;AAARA,MAAAA,QAAQ,GAAAD,cAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,cAAA;MAAAE,eAAA,GAAArC,KAAA,CAAEL,SAAS;AAATA,MAAAA,SAAS,GAAA0C,eAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,eAAA;MAAAC,WAAA,GAAAtC,KAAA,CAAEuC,KAAK;AAALA,MAAAA,KAAK,GAAAD,WAAA,KAAA,KAAA,CAAA,GAAG,EAAE,GAAAA,WAAA;MAAAE,UAAA,GAAAxC,KAAA,CAAEyC,IAAI;AAAJA,MAAAA,IAAI,GAAAD,UAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,UAAA;MAAAE,mBAAA,GAAA1C,KAAA,CAAE2C,aAAa;AAAbA,MAAAA,aAAa,GAAAD,mBAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,mBAAA;MAAAE,UAAA,GAAA5C,KAAA,CAAE6C,IAAI;AAAJA,MAAAA,IAAI,GAAAD,UAAA,KAAG,KAAA,CAAA,GAAA,EAAE,GAAAA,UAAA;MAAAE,aAAA,GAAA9C,KAAA,CAAE+C,OAAO;AAAPA,MAAAA,OAAO,GAAAD,aAAA,KAAG,KAAA,CAAA,GAAA,KAAK,GAAAA,aAAA;AAAKE,MAAAA,KAAK,GAAAtC,wBAAA,CAAAV,KAAA,EAAAW,SAAA,CAAA,CAAA;IAEjI,IAAMsC,cAAc,GAAG1C,UAAU,KAAA,IAAA,IAAVA,UAAU,KAAVA,KAAAA,CAAAA,GAAAA,KAAAA,CAAAA,GAAAA,UAAU,CAAIoC,aAAa,CAAE,CAAA;AAEpD,IAAA,IAAMO,aAAa,GAAGnE,MAAM,CAACc,WAAW,CAAEd,MAAM,CAACe,OAAO,CAAEkD,KAAK,CAAE,CAACtD,GAAG,CAAE,UAAAyD,KAAA,EAAuB;AAAA,MAAA,IAAAC,KAAA,GAAAnD,cAAA,CAAAkD,KAAA,EAAA,CAAA,CAAA;AAAnBV,QAAAA,IAAI,GAAAW,KAAA,CAAA,CAAA,CAAA;AAAE3E,QAAAA,KAAK,GAAA2E,KAAA,CAAA,CAAA,CAAA,CAAA;AACrF,MAAA,IAAK,OAAO3E,KAAK,KAAK,QAAQ,EAAG;QAChC,OAAO,CACNgE,IAAI,EACJvD,aAAa,CAAET,KAAK,EAAAC,cAAA,CAAAA,cAAA,CAAA,EAAA,EAAOF,OAAO,CAAA,EAAA,EAAA,EAAA;AAAE6E,UAAAA,SAAS,EAAE;AAAE5E,YAAAA,KAAK,EAAEwE,cAAAA;AAAe,WAAA;AAAC,SAAA,CAAA,CAAI,CAC5E,CAAA;AACF,OAAC,MAAM;AACN,QAAA,OAAO,CACNR,IAAI,EACJhE,KAAK,CACL,CAAA;AACF,OAAA;AACD,KAAC,CAAE,CAAE,CAAA;IAEL,IAAM6E,aAAa,GAAGjE,UAAU,CAAEM,SAAS,EAAAjB,cAAA,CAAAA,cAAA,CAAA,EAAA,EAAOF,OAAO,CAAA,EAAA,EAAA,EAAA;AAAE6E,MAAAA,SAAS,EAAE;AAAE5E,QAAAA,KAAK,EAAEwE,cAAAA;AAAe,OAAA;KAAK,CAAA,CAAA,CAAA;AAEnG,IAAA,IAAKK,aAAa,EAAG;MACpBJ,aAAa,CAACvD,SAAS,GAAG2D,aAAa,CAAA;AACxC,KAAA;IAEA,IAAMC,SAAS,GAAGhC,MAAM,CAAEgB,KAAK,EAAA7D,cAAA,CAAAA,cAAA,CAAA,EAAA,EAAOF,OAAO,CAAA,EAAA,EAAA,EAAA;AAAE6E,MAAAA,SAAS,EAAE;AAAE5E,QAAAA,KAAK,EAAEwE,cAAAA;AAAe,OAAA;KAAK,CAAA,CAAA,CAAA;IAEvF,IAAKlE,MAAM,CAACC,MAAM,CAAEuE,SAAS,CAAE,CAAC5F,MAAM,GAAG,CAAC,EAAG;MAC5CuF,aAAa,CAACX,KAAK,GAAGgB,SAAS,CAAA;AAChC,KAAA;IAEA,IAAIC,SAAS,GAAGT,OAAO,CAAA;IAEvB,IAAKF,IAAI,IAAIX,UAAU,IAAIA,UAAU,CAAEW,IAAI,CAAE,EAAG;AAC/CW,MAAAA,SAAS,GAAGtB,UAAU,CAAEW,IAAI,CAAE,CAAA;MAE9B,oBACCY,KAAA,CAAAC,aAAA,CAACF,SAAS,EAAAG,QAAA,KACJT,aAAa,EAAA;AAClBtB,QAAAA,SAAS,EAAGA,SAAW;AACvBa,QAAAA,IAAI,EAAGA,IAAM;AACbM,QAAAA,OAAO,EAAGA,OAAS;AACnBxC,QAAAA,UAAU,EAAGA,UAAAA;OACNuB,EAAAA,aAAa,KAAK,IAAI,IAAI;AAChCa,QAAAA,aAAa,EAAbA,aAAa;AACbb,QAAAA,aAAa,EAAbA,aAAa;AACb8B,QAAAA,OAAO,EAAE,SAAAA,OAAEnF,CAAAA,KAAK,EAAM;UACrB,IAAK,CAACkE,aAAa,EAAG;AACrB,YAAA,OAAA;AACD,WAAA;AACAb,UAAAA,aAAa,CAAA+B,eAAA,CAAA,EAAA,EACXlB,aAAa,EAAGlE,KAAK,CACpB,CAAA,CAAA;AACJ,SAAA;OACA,CAAA,EAECkD,cAAc,CAAE;AACjBC,QAAAA,SAAS,EAATA,SAAS;AACTrB,QAAAA,UAAU,EAAVA,UAAU;AACVuB,QAAAA,aAAa,EAAbA,aAAa;AACbE,QAAAA,GAAG,EAAEI,QAAQ;AACb5D,QAAAA,OAAO,EAAPA,OAAAA;OACA,EAAE0D,UAAU,CAAE,CACJ,CAAA;AAEd,KAAA;IAEA,oBACCuB,KAAA,CAAAC,aAAA,CAACF,SAAS,EAAAG,QAAA,KACJT,aAAa,EAAA;AAClBtB,MAAAA,SAAS,EAAGA,SAAAA;AAAW,KAAA,CAAA,EAErBD,cAAc,CAAE;AACjBC,MAAAA,SAAS,EAATA,SAAS;AACTrB,MAAAA,UAAU,EAAVA,UAAU;AACVuB,MAAAA,aAAa,EAAbA,aAAa;AACbE,MAAAA,GAAG,EAAEI,QAAQ;AACb5D,MAAAA,OAAO,EAAPA,OAAAA;KACA,EAAE0D,UAAU,CAAE,CACJ,CAAA;AAGd,GAAC,CAAE,CAAA;AAEJ;;AC5FA,SAAS4B,eAAeA,CAAEC,GAAG,EAAEC,QAAQ,EAAG;AACzCC,EAAAA,SAAS,CAAE,YAAM;AAChB,IAAA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAKC,KAAK,EAAM;AACvC,MAAA,IAAKJ,GAAG,CAACK,OAAO,IAAI,CAACL,GAAG,CAACK,OAAO,CAACC,QAAQ,CAAEF,KAAK,CAACG,MAAM,CAAE,EAAG;AAC3DN,QAAAA,QAAQ,IAAIA,QAAQ,CAAEG,KAAK,CAAE,CAAA;AAC9B,OAAA;KACA,CAAA;AAEDI,IAAAA,QAAQ,CAACC,gBAAgB,CAAE,WAAW,EAAEN,kBAAkB,CAAE,CAAA;AAE5D,IAAA,OAAO,YAAM;AACZK,MAAAA,QAAQ,CAACE,mBAAmB,CAAE,WAAW,EAAEP,kBAAkB,CAAE,CAAA;KAC/D,CAAA;AACF,GAAC,EAAE,CAAEH,GAAG,CAAE,CAAE,CAAA;AACb;;;;"}