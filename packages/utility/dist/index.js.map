{"version":3,"file":"index.js","sources":["../src/delimiterize.js","../src/camelize.js","../src/replace-tokens.js","../src/evaluate-conditional-string.js","../src/class-names.js","../src/get-block-context.js","../src/get-block-index.js","../src/get-inner-blocks.js","../src/is-external-url.js","../src/is-fragment-url.js","../src/styles.js","../src/render-jsx-array.js","../src/throttle.js","../src/use-click-outside.js"],"sourcesContent":["function delimiterize( string = '' ) {\n    return string\n        .replace(/([a-z])([A-Z])/g, (match, p1, p2) => {\n            return `${p1}-${p2}`\n        })\n        .replace(/[^\\w\\s-]/g, '')\n        .replace(/(\\s)/g, '-')\n        .toLowerCase()\n}\n\nexport default delimiterize","import delimiterize from './delimiterize'\n\nfunction camelize( string = '' ) {\n\treturn delimiterize(string)\n\t\t.replace(/\\-(.)/g, (match, p1) => p1.toUpperCase())\n}\n\nexport default camelize","import memoize from 'micro-memoize'\n\nconst valueByIdentifier = memoize( ( identifier = '', context = {} ) => {\n    let value = { ...context }\n\tlet parts = identifier.split( '.' )\n\n\tif ( parts.length === 0 ) {\n\t\treturn ''\n\t}\n\n\tlet key = parts.shift()\n\n\tif ( !context?.[key] ) {\n\t\treturn ''\n\t}\n\n\tif ( parts.length === 0 && key === 'length' ) {\n\t\treturn Object.values( value ).length\n\t}\n\n\tif ( parts.length === 0 ) {\n\t\treturn value[ key ]\n\t}\n\n\treturn valueByIdentifier( parts.join( '.' ), value[ key ] )\n} )\n\nfunction replaceTokens( string = '', context = {} ) {\n\tif ( typeof string !== 'string' ) {\n\t\treturn string\n\t}\n\n\treturn string.replaceAll( /\\{\\{(.*?)\\}\\}/g, ( match, p1 ) => {\n\t\treturn valueByIdentifier( p1.trim(), context )\n\t} )\n}\n\nexport default replaceTokens\n","import replaceTokens from './replace-tokens.js'\n\nconst OPERANDS = [\n\t'==',\n\t'!=',\n\t'<',\n\t'<=',\n\t'>',\n\t'>=',\n]\n\nfunction evaluateCondition( string = '', context = {} ) {\n\n\tlet operand = null\n\n\tOPERANDS.forEach( ( OPERAND ) => {\n\t\tif ( string.indexOf( OPERAND ) !== -1 ) {\n\t\t\toperand = OPERAND\n\t\t}\n\t} )\n\n\tif ( operand === null ) {\n\t\treturn Boolean( replaceTokens( string, context ) )\n\t}\n\n\tlet before = replaceTokens( string.slice( 0, string.indexOf( operand ) ).trim(), context )\n\tlet after = replaceTokens( string.slice( string.indexOf( operand ) + operand.length ).trim(), context )\n\n\tif ( ( before.slice( 0, 1 ) === \"'\" && before.slice( -1 ) === \"'\" ) || ( before.slice( 0, 1 ) === '\"' && before.slice( -1 ) === '\"' ) ) {\n\t\tbefore = before.slice( 1, -1 )\n\t}\n\n\tif ( ( after.slice( 0, 1 ) === \"'\" && after.slice( -1 ) === \"'\" ) || ( after.slice( 0, 1 ) === '\"' && after.slice( -1 ) === '\"' ) ) {\n\t\tafter = after.slice( 1, -1 )\n\t}\n\n\tif ( operand === '==' ) {\n\t\treturn ( before == after )\n\t}\n\n\tif ( operand === '!=' ) {\n\t\treturn ( before != after )\n\t}\n\n\tif ( operand === '<' ) {\n\t\treturn ( before < after )\n\t}\n\n\tif ( operand === '<=' ) {\n\t\treturn ( before <= after )\n\t}\n\n\tif ( operand === '>' ) {\n\t\treturn ( before > after )\n\t}\n\n\tif ( operand === '>=' ) {\n\t\treturn ( before >= after )\n\t}\n\n\treturn false\n}\n\nfunction evaluateConditionalString( string = '', context = {} ) {\n\tif ( typeof string !== 'string' || string === '' ) {\n\t\treturn string\n\t}\n\n\tlet open = null\n\tlet close = null\n\tlet evaluatedString = string\n\n\tdo {\n\n\t\tfor ( let i = 0; i < string.length; i++ ) {\n\t\t\tif ( string[ i ] === '(' ) {\n\t\t\t\topen = i\n\t\t\t}\n\n\t\t\tif ( open !== null && string[ i ] === ')' ) {\n\t\t\t\tclose = i\n\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\n\t\tlet conditional, before, after\n\n\t\tif ( open === null && close === null ) {\n\t\t\tconditional = string\n\t\t\tbefore = ''\n\t\t\tafter = ''\n\t\t} else {\n\t\t\tconditional = string.slice( open + 1, close - 1 )\n\t\t\tbefore = string.slice( 0, open - 1 )\n\t\t\tafter = string.slice( close + 1 )\n\t\t}\n\n\t\tconst ands = conditional.split( '&&' )\n\n\t\tconst result = ands.reduce( ( result, and ) => {\n\t\t\tconst ors = and.trim().split( '||' )\n\n\t\t\treturn ( result && ors.reduce( ( reducedOr, or ) => (\n\t\t\t\treducedOr || evaluateCondition( or.trim(), context )\n\t\t\t), null ) )\n\t\t}, true )\n\n\t\tif ( before === '' && after === '' ) {\n\t\t\tevaluatedString = result && '1' || '0'\n\t\t} else {\n\t\t\tevaluatedString = before + ( result && 'true' || 'false' ) + after\n\t\t}\n\n\t} while ( open !== null && close !== null )\n\n\tif ( evaluatedString === '1' || evaluatedString === 'true' ) {\n\t\treturn true\n\t}\n\n\tif ( evaluatedString === '0' || evaluatedString === 'false' ) {\n\t\treturn false\n\t}\n\n\treturn Boolean( evaluatedString )\n}\n\nexport default evaluateConditionalString\n","import npmClassNames from 'classnames'\nimport evaluateConditionalString from './evaluate-conditional-string.js'\nimport replaceTokens from './replace-tokens'\n\n/**\n * Wraps the default classNames function to provide\n * contextual token replacement\n */\nfunction classNames( _classNames = [], context = {} ) {\n\n\tlet classNameArray = Array.isArray( _classNames ) && _classNames || [ _classNames ]\n\n\tclassNameArray = classNameArray.map( ( className ) => {\n\n\t\tif ( typeof className === 'array' ) {\n\t\t\treturn classNames( className, context )\n\t\t} else if ( typeof className === 'object' ) {\n\t\t\treturn Object.fromEntries(\n\t\t\t\tObject.entries( className ).map( ( [ key, value ] ) => [\n\t\t\t\t\treplaceTokens( key, context ),\n\t\t\t\t\t( typeof value === 'boolean' ? value : evaluateConditionalString( value, context ) )\n\t\t\t\t] )\n\t\t\t)\n\t\t}\n\n\t\treturn className\n\n\t} )\n\n\treturn replaceTokens( npmClassNames( ...classNameArray ), context )\n\n}\n\nexport default classNames\n\n","/**\n * Returns the block context with private attributes formatted.\n * \n * Note: The length of the inner blocks is saved as an attribute because \n * they can not be directly referenced upon initial save.\n */\nfunction getBlockContext( context = {} ) {\n\n\tlet {\n\t\tclientId,\n\t\tattributes,\n\t\tinnerBlocks,\n\t\t...blockContext\n\t} = context\n\n\tconst index = 1 + (attributes?._index || 0)\n\tconst length = (attributes?._innerBlocksLength || 0)\n\n\treturn {\n\t\t...blockContext,\n\t\tblock: {\n\t\t\tindex: index,\n\t\t\t...attributes,\n\t\t},\n\t\tinnerBlocks: innerBlocks?.length && innerBlocks || (new Array(length)).fill(null),\n\t}\n\n}\n\nexport default getBlockContext","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n *\n * @param {*} clientId\n * @returns\n */\nfunction getBlockIndex( clientId ) {\n\tconst { getBlockIndex } = useSelect( ( select ) => ( {\n\t\tgetBlockIndex: select( 'core/block-editor' )?.getBlockIndex\n\t} ) )\n\treturn getBlockIndex( clientId ) || 0\n}\n\nexport default getBlockIndex\n","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n *\n * @param {*} clientId\n * @returns\n */\nfunction getInnerBlocks( clientId ) {\n\tconst { getBlocks } = useSelect( ( select ) => ( {\n\t\tgetBlocks: select( 'core/block-editor' )?.getBlocks\n\t} ) )\n\treturn getBlocks( clientId ) || []\n}\n\nexport default getInnerBlocks\n","function isExternalUrl( url ) {\n\tif ( url.indexOf('#') === 0 || ( url.indexOf('http://') !== 0 && url.indexOf('https://') !== 0 ) ) {\n\t\treturn false\n\t}\n\n\treturn ( new URL( url ).origin !== location.origin )\n}\n\nexport default isExternalUrl\n","function isFragmentUrl( url ) {\n\tif ( url.indexOf('#') === 0 ) {\n\t\treturn true\n\t}\n\n\treturn false\n}\n\nexport default isFragmentUrl\n","import replaceTokens from './replace-tokens'\n\nfunction styles( _styles = [], context = {} ) {\n\n\tif (typeof _styles !== 'object') {\n\t\treturn {}\n\t}\n\n\tconst stylesArray = Object.entries(_styles).map(([ property, value ]) => [\n\t\treplaceTokens(property, context),\n\t\treplaceTokens(value, context)\n\t])\n\t\n\treturn Object.fromEntries(stylesArray)\n\t\n}\n\nexport default styles","import EXCLUDED_ATTRIBUTES from './data/excluded-attributes.json'\nimport classNames from './class-names.js'\nimport evaluateConditionalString from './evaluate-conditional-string.js'\nimport replaceTokens from './replace-tokens.js'\nimport styles from './styles.js'\n\n/**\n * Renders an item inside a JSX objects array\n */\nfunction render( {\n\tchildren = [],\n\tclassName = [],\n\teditorClassName = [],\n\tviewClassName = [],\n\tstyle = {},\n\tattributeName = '',\n\ttype = 'html',\n\ttagName = 'div',\n\tpersist = true,\n\t...props\n}, {\n\tclientId,\n\tblockName,\n\tattributes,\n\tsetAttributes = null,\n\tcontext = {}\n}, Components = {} ) {\n\n\tlet attributeValue = attributes?.[ attributeName ]\n\n\tif ( attributeValue === undefined ) {\n\t\tattributeValue = props?.value\n\t}\n\n\tconst jsxAttributes = Object.fromEntries( Object.entries( props ).map( ( [ name, value ] ) => {\n\t\tif ( typeof value === 'string' && EXCLUDED_ATTRIBUTES.includes( name ) === false ) {\n\t\t\treturn [\n\t\t\t\tname,\n\t\t\t\treplaceTokens( value, { ...context, attribute: { value: attributeValue } } ),\n\t\t\t]\n\t\t} else {\n\t\t\treturn [\n\t\t\t\tname,\n\t\t\t\tvalue,\n\t\t\t]\n\t\t}\n\t} ) )\n\n\tif ( 'display' in jsxAttributes ) {\n\t\tjsxAttributes.display = evaluateConditionalString( props.display, context )\n\t}\n\n\tconst jsxClassNames = classNames( [\n\t\t...( Array.isArray( className ) && className || [ className ] ),\n\t\t...( context?.context === 'edit' && (\n\t\t\tArray.isArray( editorClassName ) && editorClassName || [ editorClassName ]\n\t\t) || [] ),\n\t\t...( context?.context === 'save' && (\n\t\t\tArray.isArray( viewClassName ) && viewClassName || [ viewClassName ]\n\t\t) || [] ),\n\t], { ...context, attribute: { value: attributeValue } } )\n\n\tif ( jsxClassNames ) {\n\t\tjsxAttributes.className = jsxClassNames\n\t}\n\n\tconst jsxStyles = styles( style, { ...context, attribute: { value: attributeValue } } )\n\n\tif ( Object.values( jsxStyles ).length > 0 ) {\n\t\tjsxAttributes.style = jsxStyles\n\t}\n\n\tlet Component = tagName\n\n\tif ( type in Components && Components[ type ] ) {\n\t\tComponent = Components[ type ]\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{ ...jsxAttributes }\n\t\t\t\tclientId={ clientId }\n\t\t\t\tblockName={ blockName }\n\t\t\t\tattributeName={ attributeName }\n\t\t\t\ttagName={ tagName }\n\t\t\t\tattributes={ attributes }\n\t\t\t\t{ ...( attributeValue !== undefined && {\n\t\t\t\t\tvalue: attributeValue,\n\t\t\t\t} ) }\n\t\t\t\t{ ...( setAttributes !== null && {\n\t\t\t\t\tattributeName,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tonInput: ( value ) => {\n\t\t\t\t\t\tif ( context?.context === 'save' ) {\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t[attributeName]: value,\n\t\t\t\t\t\t}, persist )\n\t\t\t\t\t},\n\t\t\t\t} ) }\n\t\t\t>\n\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\tclientId,\n\t\t\t\t\tblockName,\n\t\t\t\t\tattributes,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tjsx: children,\n\t\t\t\t\tcontext,\n\t\t\t\t}, Components ) }\n\t\t\t</Component>\n\t\t)\n\t}\n\n\treturn (\n\t\t<Component\n\t\t\t{ ...jsxAttributes }\n\t\t\tblockName={ blockName }\n\t\t>\n\t\t\t{ renderJsxArray( {\n\t\t\t\tclientId,\n\t\t\t\tblockName,\n\t\t\t\tattributes,\n\t\t\t\tsetAttributes,\n\t\t\t\tjsx: children,\n\t\t\t\tcontext,\n\t\t\t}, Components ) }\n\t\t</Component>\n\t)\n\n}\n\n/**\n * Renders an array of JSX objects\n *\n * @param {array} jsx\n */\nfunction renderJsxArray( {\n\tjsx = [],\n\t...blockProps\n}, Components = {} ) {\n\n\tif ( Array.isArray( jsx ) === false || jsx.length === 0 ) {\n\t\treturn null\n\t}\n\n\tconst jsxComponents = jsx.map( ( jsxComponent ) => {\n\n\t\tif ( typeof jsxComponent === 'function' ) {\n\t\t\treturn jsxComponent( blockProps )\n\t\t}\n\n\t\treturn render( jsxComponent, blockProps, Components )\n\n\t} )\n\n\tif ( jsxComponents.length === 1 ) {\n\t\treturn jsxComponents[ 0 ]\n\t}\n\n\treturn jsxComponents\n\n}\n\nexport default renderJsxArray\n","/**\n *\n *\n * @param {*} callback\n * @returns\n */\nfunction throttle( callback, delay ) {\n\n\tlet wait = false\n\tlet callbackArgs = null\n\n\tfunction attemptCall() {\n\n\t\tif ( callbackArgs === null ) {\n\n\t\t  wait = false\n\n\t\t} else {\n\n\t\t  callback( ...callbackArgs )\n\t\t  callbackArgs = null\n\t\t  setTimeout( attemptCall, delay )\n\n\t\t}\n\n\t}\n\n\treturn ( ...args ) => {\n\n    \tif ( wait ) {\n\n\t\t\tcallbackArgs = args\n    \t    return\n\n    \t}\n\n    \tcallback( ...args )\n    \twait = true\n\n    \tsetTimeout( attemptCall, delay )\n\n\t}\n\n}\n\nexport default throttle\n","import { useEffect } from '@wordpress/element'\n\nfunction useClickOutside( ref, callback ) {\n\tuseEffect( () => {\n\t\tconst handleClickOutside = ( event ) => {\n\t\t\tif ( ref.current && !ref.current.contains( event.target ) ) {\n\t\t\t\tcallback && callback( event )\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener( 'mousedown', handleClickOutside )\n\t  \n\t\treturn () => {\n\t\t\tdocument.removeEventListener( 'mousedown', handleClickOutside )\n\t\t}\n\t}, [ ref ] )\n}\n\nexport default useClickOutside"],"names":["delimiterize","string","arguments","length","undefined","replace","match","p1","p2","concat","toLowerCase","camelize","toUpperCase","valueByIdentifier","memoize","identifier","context","value","_objectSpread","parts","split","key","shift","Object","values","join","replaceTokens","replaceAll","trim","OPERANDS","evaluateCondition","operand","forEach","OPERAND","indexOf","Boolean","before","slice","after","evaluateConditionalString","open","close","evaluatedString","i","conditional","ands","result","reduce","and","ors","reducedOr","or","classNames","_classNames","classNameArray","Array","isArray","map","className","_typeof","fromEntries","entries","_ref","_ref2","_slicedToArray","npmClassNames","apply","_toConsumableArray","getBlockContext","clientId","attributes","innerBlocks","blockContext","_objectWithoutProperties","_excluded","index","_index","_innerBlocksLength","block","fill","getBlockIndex","_useSelect","useSelect","select","_select","getInnerBlocks","getBlocks","isExternalUrl","url","URL","origin","location","isFragmentUrl","styles","_styles","stylesArray","property","render","_ref$children","children","_ref$className","_ref$editorClassName","editorClassName","_ref$viewClassName","viewClassName","_ref$style","style","_ref$attributeName","attributeName","_ref$type","type","_ref$tagName","tagName","_ref$persist","persist","props","blockName","_ref2$setAttributes","setAttributes","_ref2$context","Components","attributeValue","jsxAttributes","_ref3","_ref4","name","EXCLUDED_ATTRIBUTES","includes","attribute","display","jsxClassNames","jsxStyles","Component","React","createElement","_extends","onInput","_defineProperty","renderJsxArray","jsx","_ref5","_ref5$jsx","blockProps","_excluded2","jsxComponents","jsxComponent","throttle","callback","delay","wait","callbackArgs","attemptCall","setTimeout","_len","args","_key","useClickOutside","ref","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener"],"mappings":"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"}