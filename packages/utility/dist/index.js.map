{"version":3,"file":"index.js","sources":["../src/delimiterize.js","../src/camelize.js","../src/replace-tokens.js","../src/class-names.js","../src/get-block-context.js","../src/get-block-index.js","../src/get-inner-blocks.js","../src/is-external-url.js","../src/styles.js","../src/render-jsx-array.js","../src/use-click-outside.js"],"sourcesContent":["function delimiterize( string = '' ) {\n    return string\n        .replace(/([a-z])([A-Z])/g, (match, p1, p2) => {\n            return `${p1}-${p2}`\n        })\n        .replace(/[^\\w\\s-]/g, '')\n        .replace(/(\\s)/g, '-')\n        .toLowerCase()\n}\n\nexport default delimiterize","import delimiterize from './delimiterize'\n\nfunction camelize( string = '' ) {\n\treturn delimiterize(string)\n\t\t.replace(/\\-(.)/g, (match, p1) => p1.toUpperCase())\n}\n\nexport default camelize","import memoize from 'micro-memoize'\n\nconst valueByIdentifier = memoize( ( identifier = '', context = {} ) => {\n    let value = { ...context }\n\tlet parts = identifier.split( '.' )\n\n\tif ( parts.length === 0 ) {\n\t\treturn ''\n\t}\n\n\tlet key = parts.shift()\n\n\tif ( !context?.[key] ) {\n\t\treturn ''\n\t}\n\n\tif ( parts.length === 0 && key === 'length' ) {\n\t\treturn Object.values( value ).length\n\t}\n\n\tif ( parts.length === 0 ) {\n\t\treturn value[ key ]\n\t}\n\n\treturn valueByIdentifier( parts.join( '.' ), value[ key ] )\n} )\n\nfunction replaceTokens( string = '', context = {} ) {\n\tif ( typeof string !== 'string' ) {\n\t\treturn string\n\t}\n\t\n\treturn string.replaceAll( /\\{\\{(.*?)\\}\\}/g, ( match, p1 ) => {\n\t\treturn valueByIdentifier( p1.trim(), context )\n\t} )\n}\n\nexport default replaceTokens","import npmClassNames from 'classnames'\nimport replaceTokens from './replace-tokens'\n\n/**\n * Wraps the default classNames function to provide \n * contextual token replacement\n */\nfunction classNames( _classNames = [], context = {} ) {\n\t\n\tlet classNameArray = Array.isArray( _classNames ) && _classNames || [ _classNames ]\n\n\tclassNameArray = classNameArray.map( ( className ) => {\n\n\t\tif ( typeof className === 'array' ) {\n\t\t\treturn classNames( className, context )\n\t\t} else if ( typeof className === 'object' ) {\n\t\t\treturn Object.fromEntries( \n\t\t\t\tObject.entries( className ).map( ( [ key, value ] ) => [\n\t\t\t\t\treplaceTokens( key, context ), \n\t\t\t\t\t( typeof value === 'boolean' ? value : classNames( value, context ) )\n\t\t\t\t] ) \n\t\t\t)\n\t\t}\n\n\t\treturn className\n\n\t} )\n\n\treturn replaceTokens( npmClassNames( ...classNameArray ), context )\n\n}\n\nexport default classNames\n\n","/**\n * Returns the block context with private attributes formatted.\n * \n * Note: The length of the inner blocks is saved as an attribute because \n * they can not be directly referenced upon initial save.\n */\nfunction getBlockContext( context = {} ) {\n\n\tlet {\n\t\tclientId,\n\t\tattributes,\n\t\tinnerBlocks,\n\t\t...blockContext\n\t} = context\n\n\tconst index = 1 + (attributes?._index || 0)\n\tconst length = (attributes?._innerBlocksLength || 0)\n\n\treturn {\n\t\t...blockContext,\n\t\tblock: {\n\t\t\tindex: index,\n\t\t\t...attributes,\n\t\t},\n\t\tinnerBlocks: innerBlocks?.length && innerBlocks || (new Array(length)).fill(null),\n\t}\n\n}\n\nexport default getBlockContext","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n *\n * @param {*} clientId\n * @returns\n */\nfunction getBlockIndex( clientId ) {\n\tconst { getBlockIndex } = useSelect( ( select ) => ( {\n\t\tgetBlockIndex: select( 'core/block-editor' )?.getBlockIndex\n\t} ) )\n\treturn getBlockIndex( clientId ) || 0\n}\n\nexport default getBlockIndex\n","/**\n * React hook for retrieving props from registered selectors.\n *\n * @see https://developer.wordpress.org/block-editor/reference-guides/packages/packages-data/#useselect\n */\nimport { useSelect } from '@wordpress/data'\n\n/**\n *\n * @param {*} clientId\n * @returns\n */\nfunction getInnerBlocks( clientId ) {\n\tconst { getBlocks } = useSelect( ( select ) => ( {\n\t\tgetBlocks: select( 'core/block-editor' )?.getBlocks\n\t} ) )\n\treturn getBlocks( clientId ) || []\n}\n\nexport default getInnerBlocks\n","function isExternalUrl( url ) {\n\tif ( url.indexOf('#') === 0 || ( url.indexOf('http://') !== 0 && url.indexOf('https://') !== 0 ) ) {\n\t\treturn false\n\t}\n\n\treturn ( new URL( url ).origin !== location.origin )\n}\n\nexport default isExternalUrl\n","import replaceTokens from './replace-tokens'\n\nfunction styles( _styles = [], context = {} ) {\n\n\tif (typeof _styles !== 'object') {\n\t\treturn {}\n\t}\n\n\tconst stylesArray = Object.entries(_styles).map(([ property, value ]) => [\n\t\treplaceTokens(property, context),\n\t\treplaceTokens(value, context)\n\t])\n\t\n\treturn Object.fromEntries(stylesArray)\n\t\n}\n\nexport default styles","import classNames from './class-names.js'\nimport replaceTokens from './replace-tokens.js'\nimport styles from './styles.js'\n\n/**\n * Renders an array of JSX objects\n *\n * @param {array} jsx\n */\nfunction renderJsxArray( {\n\tclientId,\n\tblockName,\n\tattributes,\n\tsetAttributes = null,\n\tjsx = [],\n\tcontext = {}\n}, Components = {} ) {\n\n\treturn jsx.map( ( {\n\t\tchildren = [],\n\t\tclassName = [],\n\t\teditorClassName = [],\n\t\tviewClassName = [],\n\t\tstyle = {},\n\t\tattributeName = '',\n\t\ttype = '',\n\t\ttagName = 'div',\n\t\tpersist = true,\n\t\t...props\n\t} ) => {\n\n\t\tlet attributeValue = attributes?.[ attributeName ]\n\n\t\tif ( attributeValue === undefined ) {\n\t\t\tattributeValue = props?.value\n\t\t}\n\n\t\tconst jsxAttributes = Object.fromEntries( Object.entries( props ).map( ( [ name, value ] ) => {\n\t\t\tif ( typeof value === 'string' ) {\n\t\t\t\treturn [\n\t\t\t\t\tname,\n\t\t\t\t\treplaceTokens( value, { ...context, attribute: { value: attributeValue } } ),\n\t\t\t\t]\n\t\t\t} else {\n\t\t\t\treturn [\n\t\t\t\t\tname,\n\t\t\t\t\tvalue,\n\t\t\t\t]\n\t\t\t}\n\t\t} ) )\n\n\t\tconst jsxClassNames = classNames( [\n\t\t\t...( Array.isArray( className ) && className || [ className ] ),\n\t\t\t...( context?.mode === 'edit' && (\n\t\t\t\tArray.isArray( editorClassName ) && editorClassName || [ editorClassName ]\n\t\t\t) || [] ),\n\t\t\t...( context?.mode === 'save' && (\n\t\t\t\tArray.isArray( viewClassName ) && viewClassName || [ viewClassName ]\n\t\t\t) || [] ),\n\t\t], { ...context, attribute: { value: attributeValue } } )\n\n\t\tif ( jsxClassNames ) {\n\t\t\tjsxAttributes.className = jsxClassNames\n\t\t}\n\n\t\tconst jsxStyles = styles( style, { ...context, attribute: { value: attributeValue } } )\n\n\t\tif ( Object.values( jsxStyles ).length > 0 ) {\n\t\t\tjsxAttributes.style = jsxStyles\n\t\t}\n\n\t\tlet Component = tagName\n\n\t\tif ( type in Components && Components[ type ] ) {\n\t\t\tComponent = Components[ type ]\n\n\t\t\treturn (\n\t\t\t\t<Component\n\t\t\t\t\t{ ...jsxAttributes }\n\t\t\t\t\tclientId={ clientId }\n\t\t\t\t\tblockName={ blockName }\n\t\t\t\t\ttagName={ tagName }\n\t\t\t\t\tattributes={ attributes }\n\t\t\t\t\t{ ...( attributeValue !== undefined && {\n\t\t\t\t\t\tvalue: attributeValue,\n\t\t\t\t\t} ) }\n\t\t\t\t\t{ ...( setAttributes !== null && {\n\t\t\t\t\t\tattributeName,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\tonInput: ( value ) => {\n\t\t\t\t\t\t\tif ( !attributeName ) {\n\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetAttributes( {\n\t\t\t\t\t\t\t\t[attributeName]: value,\n\t\t\t\t\t\t\t}, persist )\n\t\t\t\t\t\t},\n\t\t\t\t\t} ) }\n\t\t\t\t>\n\t\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\t\tclientId,\n\t\t\t\t\t\tblockName,\n\t\t\t\t\t\tattributes,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\tjsx: children,\n\t\t\t\t\t\tcontext,\n\t\t\t\t\t}, Components ) }\n\t\t\t\t</Component>\n\t\t\t)\n\t\t}\n\n\t\treturn (\n\t\t\t<Component\n\t\t\t\t{ ...jsxAttributes }\n\t\t\t\tblockName={ blockName }\n\t\t\t>\n\t\t\t\t{ renderJsxArray( {\n\t\t\t\t\tclientId,\n\t\t\t\t\tblockName,\n\t\t\t\t\tattributes,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tjsx: children,\n\t\t\t\t\tcontext,\n\t\t\t\t}, Components ) }\n\t\t\t</Component>\n\t\t)\n\n\t} )\n\n}\n\nexport default renderJsxArray\n","import { useEffect } from '@wordpress/element'\n\nfunction useClickOutside( ref, callback ) {\n\tuseEffect( () => {\n\t\tconst handleClickOutside = ( event ) => {\n\t\t\tif ( ref.current && !ref.current.contains( event.target ) ) {\n\t\t\t\tcallback && callback( event )\n\t\t\t}\n\t\t}\n\n\t\tdocument.addEventListener( 'mousedown', handleClickOutside )\n\t  \n\t\treturn () => {\n\t\t\tdocument.removeEventListener( 'mousedown', handleClickOutside )\n\t\t}\n\t}, [ ref ] )\n}\n\nexport default useClickOutside"],"names":["delimiterize","string","arguments","length","undefined","replace","match","p1","p2","concat","toLowerCase","camelize","toUpperCase","valueByIdentifier","memoize","identifier","context","value","_objectSpread","parts","split","key","shift","Object","values","join","replaceTokens","replaceAll","trim","classNames","_classNames","classNameArray","Array","isArray","map","className","_typeof","fromEntries","entries","_ref","_ref2","_slicedToArray","npmClassNames","apply","_toConsumableArray","getBlockContext","clientId","attributes","innerBlocks","blockContext","_objectWithoutProperties","_excluded","index","_index","_innerBlocksLength","block","fill","getBlockIndex","_useSelect","useSelect","select","_select","getInnerBlocks","getBlocks","isExternalUrl","url","indexOf","URL","origin","location","styles","_styles","stylesArray","property","renderJsxArray","blockName","_ref$setAttributes","setAttributes","_ref$jsx","jsx","_ref$context","Components","_ref2$children","children","_ref2$className","_ref2$editorClassName","editorClassName","_ref2$viewClassName","viewClassName","_ref2$style","style","_ref2$attributeName","attributeName","_ref2$type","type","_ref2$tagName","tagName","_ref2$persist","persist","props","attributeValue","jsxAttributes","_ref3","_ref4","name","attribute","jsxClassNames","mode","jsxStyles","Component","React","createElement","_extends","onInput","_defineProperty","useClickOutside","ref","callback","useEffect","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener"],"mappings":"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"}